"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2857],{6942:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var o=t(4848),a=t(8453);const i={id:"getting-started",title:"Getting started",slug:"/getting-started/"},r="Run",s={id:"getting-started",title:"Getting started",description:"Using the main features of Calimero Network involves several components and processes tailored to developers looking to build decentralized, privacy-focused applications. Here\u2019s an overview of how to engage with its core functionalities, along with examples of common use cases:",source:"@site/docs/getting-started.mdx",sourceDirName:".",slug:"/getting-started/",permalink:"/core/docs/getting-started/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started.mdx",tags:[],version:"current",frontMatter:{id:"getting-started",title:"Getting started",slug:"/getting-started/"},sidebar:"tutorialSidebar",previous:{title:"Client Node",permalink:"/core/docs/client-node"},next:{title:"Identity",permalink:"/core/docs/identity"}},l={},c=[{value:"Setup number of peers (here 3)",id:"setup-number-of-peers-here-3",level:2},{value:"Turn on debug mode (optional)",id:"turn-on-debug-mode-optional",level:2},{value:"Testing",id:"testing",level:3},{value:"First, compile the only-peers and kv-store applications",id:"first-compile-the-only-peers-and-kv-store-applications",level:4},{value:"Create a data folder for all configs",id:"create-a-data-folder-for-all-configs",level:4},{value:"Spin up a coordinator node",id:"spin-up-a-coordinator-node",level:4},{value:"Spin up node 1",id:"spin-up-node-1",level:4},{value:"Spin up node 2",id:"spin-up-node-2",level:4},{value:"From Peer 1",id:"from-peer-1",level:4},{value:"From Peer 2",id:"from-peer-2",level:4}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Using the main features of Calimero Network involves several components and processes tailored to developers looking to build decentralized, privacy-focused applications. Here\u2019s an overview of how to engage with its core functionalities, along with examples of common use cases:"}),"\n",(0,o.jsx)(n.h1,{id:"run",children:"Run"}),"\n",(0,o.jsx)(n.h2,{id:"setup-number-of-peers-here-3",children:"Setup number of peers (here 3)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"./crates/node/gen_localnet_configs.sh 3\n"})}),"\n",(0,o.jsx)(n.h2,{id:"turn-on-debug-mode-optional",children:"Turn on debug mode (optional)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"export RUST_LOG=debug\n"})}),"\n",(0,o.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,o.jsx)(n.h4,{id:"first-compile-the-only-peers-and-kv-store-applications",children:"First, compile the only-peers and kv-store applications"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:"$ ./apps/only-peers/build.sh\n$ ./apps/kv-store/build.sh                                                                                        \n"})}),"\n",(0,o.jsx)(n.h4,{id:"create-a-data-folder-for-all-configs",children:"Create a data folder for all configs"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:"$ mkdir data\n"})}),"\n",(0,o.jsx)(n.h4,{id:"spin-up-a-coordinator-node",children:"Spin up a coordinator node"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:'$ cargo run -p calimero-node -- --home data/coordinator init --server-port 2427\n    Finished dev [unoptimized + debuginfo] target(s) in 0.20s\n     Running `target/debug/calimero-node --home data/coordinator init`\n2024-02-28T20:02:57.715257Z  INFO calimero_node::cli::init: Generated identity: PeerId("12D3KooWCiyHe2yeu53qSyRs4g9sTGwgEPjR8iGdi4XG5iv11TgH")\n2024-02-28T20:02:57.725088Z  INFO calimero_node::cli::init: Initialized a chat node in "data/coordinator"\n\n$ cargo run -p calimero-node -- --home data/coordinator run --node-type coordinator\n'})}),"\n",(0,o.jsx)(n.h4,{id:"spin-up-node-1",children:"Spin up node 1"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:'$ cargo run -p calimero-node -- --home data/node1 init --server-port 2428 --swarm-port 2528\n    Finished dev [unoptimized + debuginfo] target(s) in 0.20s\n     Running `target/debug/calimero-node --home data/node1 init`\n2024-02-28T20:02:57.715257Z  INFO calimero_node::cli::init: Generated identity: PeerId("12D3KooWHJMh2hv9wai6UqPoHf5jED2gNaUbTTx6ZThAUqroCgtF")\n2024-02-28T20:02:57.725088Z  INFO calimero_node::cli::init: Initialized a chat node in "data/node1"\n\n$ cargo run -p calimero-node -- --home data/node1 run\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"Check if config file has set correct port in all places. If not, update it per given port value.\n"})}),"\n",(0,o.jsx)(n.h4,{id:"spin-up-node-2",children:"Spin up node 2"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:'$ cargo run -p calimero-node -- --home data/node2 init --server-port 2429 --swarm-port 2529\n    Finished dev [unoptimized + debuginfo] target(s) in 0.20s\n     Running `target/debug/calimero-node --home data/node2 init`\n2024-02-28T20:02:57.715257Z  INFO calimero_node::cli::init: Generated identity: PeerId("12D3KooWHDWr9mCgZiXQXKDsMjWgDioAt9mVHAKEuYUuSKtYdv75")\n2024-02-28T20:02:57.725088Z  INFO calimero_node::cli::init: Initialized a chat node in "data/node2"\n\n$ cargo run -p calimero-node -- --home data/node2 run\n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'Important!!\nIf you receive error\n"message": "guest panicked: panicked at apps/only-peers/src/code_generated_from_calimero_sdk_macros.rs:41:44: Failed to read app state.",\nthat means that storage is empty. Before fetching any data, create new post.\n'})}),"\n",(0,o.jsx)(n.p,{children:"All sessions will fall into interactive mode"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:"Usage: [call|peers|pool|gc|store] [args]\n\n> call <method> <JSON args>\n\nCall a method on the app with the provided JSON args\n\n> peers\n\nShow a count of connected peers\n\n> pool\n\nShow the transaction pool\n\n> gc\n\nEvict all transactions in the transaction pool that are awaiting confirmation\n\n> store\n\nPrint the DB state\n"})}),"\n",(0,o.jsx)(n.p,{children:"Example - KV Store"}),"\n",(0,o.jsx)(n.h4,{id:"from-peer-1",children:"From Peer 1"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:'> call /calimero/experimental/app/8LMYQSzACqpX6XsuaBj7ure1VnJ1GHvZQBV8qqP2b2Cc set { "key": "name", "value": "Adam Smith" }\n \u2502 Sent Transaction! Hash("DWSBHcnDnNVkQTf5xha891kfQvXyQt6WMhyReghcLW5A")\n \u2502 Hash("DWSBHcnDnNVkQTf5xha891kfQvXyQt6WMhyReghcLW5A")\n \u2502   (No return value)\n \u2502   Logs:\n \u2502     > Setting key: "name" to value: "Adam Smith"\n> call /calimero/experimental/app/8LMYQSzACqpX6XsuaBj7ure1VnJ1GHvZQBV8qqP2b2Cc get { "key": "name" }\n \u2502 Sent Transaction! Hash("9Y5jZVsmEs1P74qhi2uJ82jr7WFFUCg1X6TvHtoLo45W")\n \u2502 Hash("9Y5jZVsmEs1P74qhi2uJ82jr7WFFUCg1X6TvHtoLo45W")\n \u2502   Return Value:\n \u2502     > "Adam Smith"\n \u2502   Logs:\n \u2502     > Getting key: "name"\n'})}),"\n",(0,o.jsx)(n.h4,{id:"from-peer-2",children:"From Peer 2"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-console",children:'> call /calimero/experimental/app/8LMYQSzACqpX6XsuaBj7ure1VnJ1GHvZQBV8qqP2b2Cc get { "key": "name" }\n \u2502 Sent Transaction! Hash("EFthDcmVbpevfYw1T7WfQ75tY7PHV7DVKieRNFa2uanh")\n \u2502 Hash("EFthDcmVbpevfYw1T7WfQ75tY7PHV7DVKieRNFa2uanh")\n \u2502   Return Value:\n \u2502     > "Adam Smith"\n \u2502   Logs:\n \u2502     > Getting key: "name"\n> call /calimero/experimental/app/8LMYQSzACqpX6XsuaBj7ure1VnJ1GHvZQBV8qqP2b2Cc set { "key": "name", "value": "Adam Smitten" }\n \u2502 Sent Transaction! Hash("7eU6aJHgB4rpZn8oV7VbWMxERDDKMCP2Ao2yj5G96WZD")\n \u2502 Hash("7eU6aJHgB4rpZn8oV7VbWMxERDDKMCP2Ao2yj5G96WZD")\n \u2502   (No return value)\n \u2502   Logs:\n \u2502     > Setting key: "name" to value: "Adam Smitten"\n> call /calimero/experimental/app/8LMYQSzACqpX6XsuaBj7ure1VnJ1GHvZQBV8qqP2b2Cc get { "key": "name" }\n \u2502 Sent Transaction! Hash("86Rfq6zEpjDSMjXFfxwmLLscHob9ZBtJEwvhwEDptjhM")\n \u2502 Hash("86Rfq6zEpjDSMjXFfxwmLLscHob9ZBtJEwvhwEDptjhM")\n \u2502   Return Value:\n \u2502     > "Adam Smitten"\n \u2502   Logs:\n \u2502     > Getting key: "name"\n'})}),"\n",(0,o.jsx)(n.p,{children:"Example - Only Peers"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'call /calimero/experimental/app/8eVTNKLwmF28pdDR7RRpT5C1XwUXoJuDuPF6hhbMCu98 create_post {"title": "title", "content": "content"}\n \u2502 Scheduled Transaction! Hash("FCBsYV5cch9kpkDuc3a1mYG7XNYapFTN3g4nAH7CWXPG")\n \u2502 Hash("FCBsYV5cch9kpkDuc3a1mYG7XNYapFTN3g4nAH7CWXPG")\n \u2502   Return Value:\n \u2502     > (json): {\n \u2502     >   "comments": [],\n \u2502     >   "content": "content",\n \u2502     >   "id": 0,\n \u2502     >   "title": "title"\n \u2502     > }\n \u2502   Logs:\n \u2502     > Creating post with title: "title" and content: "content"\n\n call /calimero/experimental/app/8eVTNKLwmF28pdDR7RRpT5C1XwUXoJuDuPF6hhbMCu98 post {"id": 0}\n \u2502 Scheduled Transaction! Hash("EWTmQg71zhj5SDs91uWqrBsK7NRa3zBU5vALFPuhgFd3")\n \u2502 Hash("EWTmQg71zhj5SDs91uWqrBsK7NRa3zBU5vALFPuhgFd3")\n \u2502   Return Value:\n \u2502     > (json): {\n \u2502     >   "comments": [],\n \u2502     >   "content": "content",\n \u2502     >   "id": 0,\n \u2502     >   "title": "title"\n \u2502     > }\n \u2502   Logs:\n \u2502     > Getting post with id: 0\n'})}),"\n",(0,o.jsx)(n.p,{children:"JSON RPC"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"success example"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'curl -X POST -H "Content-Type: application/json" -d \'\n{\n  "jsonrpc": "2.0",\n  "method": "call_mut",\n  "params": {\n    "applicationId": "/calimero/experimental/app/6P8KrqtyD4YgcSrDZovZ5dGDFJjvx8jXLrCohpj2VtZh",\n    "method": "create_post",\n    "argsJson": {\n      "title": "Your Post Title",\n      "content": "Your Post Content"\n    }\n  },\n  "id": "dontcare"\n}\' \'http://localhost:2529/jsonrpc\'\n'})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"failure example"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'curl -X POST -H "Content-Type: application/json" -d \'\n{\n  "jsonrpc": "2.0",\n  "method": "call_mut",\n  "params": {\n    "applicationId": "/calimero/experimental/app/6P8KrqtyD4YgcSrDZovZ5dGDFJjvx8jXLrCohpj2VtZh",\n    "method": "create_post",\n    "argsJson": {\n      "title_FiBo": "Your Post Title",\n      "content": "Your Post Content"\n    }\n  },\n  "id": 123\n}\' \'http://localhost:2529/jsonrpc\'\n'})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>s});var o=t(6540);const a={},i=o.createContext(a);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);